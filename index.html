<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LOM - Loja Mágica de Opath</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand">Loja Mágica de Opath</a>
    <form class="d-flex ms-auto" id="searchForm">
      <input id="searchInput" class="form-control me-2" type="search" placeholder="Buscar item">
      <button class="btn btn-outline-success" type="submit">Procurar</button>
    </form>
  </div>
</nav>

<!-- Introdução -->
<div class="container mt-4 text-center">
  <h1 class="mb-3" style="font-family: 'Cinzel Decorative', serif;">Bem-vindo à Loja Mágica de Opath</h1>
  <p class="lead">Aqui você encontrará os artefatos mais raros, armas encantadas, armaduras lendárias e os itens mágicos mais procurados do continente. Navegue pelos corredores encantados da loja e descubra o poder oculto que espera por você.</p>
</div>

<!-- Galeria da Escola Mágica de Opath -->
<div class="container my-4">
  <h2 class="text-center mb-3" style="font-family: 'Cinzel Decorative', serif;">Escola Mágica de Opath</h2>
  <div class="row justify-content-center g-3">
    <div class=""><img src="" class="" alt=""></div>
    <div class=""><img src="" class="" alt=""></div>
    <div class=""><img src="" class="" alt=""></div>
  </div>
</div>

<!-- Botão Filtrar -->
<div class="container text-center mt-3">
  <button class="btn btn-secondary" data-bs-toggle="collapse" data-bs-target="#filterPanel">
    Filtrar / Ordenar
  </button>
</div>

<!-- Painel de Filtros -->
<div class="collapse container mt-3" id="filterPanel">
  <div class="row">
    <div class="col-md-4 mb-2">
      <h6>Categoria</h6>
      <select id="categoryFilter" class="form-select">
        <option value="todos">Todos</option>
        <option value="armas">Armas</option>
        <option value="cajados">Cajados</option>
        <option value="armaduras">Armaduras</option>
        <option value="itens">Itens Mágicos</option>
      </select>
    </div>
    <div class="col-md-4 mb-2">
      <h6>Tipo de Dano</h6>
      <div class="d-flex filter-group">
        <div class="form-check">
          <input class="form-check-input damageFilter" type="checkbox" value="Cortante" id="d1">
          <label class="form-check-label" for="d1">Cortante</label>
        </div>
        <div class="form-check">
          <input class="form-check-input damageFilter" type="checkbox" value="Contundente" id="d2">
          <label class="form-check-label" for="d2">Contundente</label>
        </div>
        <div class="form-check">
          <input class="form-check-input damageFilter" type="checkbox" value="Fogo" id="d3">
          <label class="form-check-label" for="d3">Fogo</label>
        </div>
        <div class="form-check">
          <input class="form-check-input damageFilter" type="checkbox" value="Elétrico" id="d4">
          <label class="form-check-label" for="d4">Elétrico</label>
        </div>
        <div class="form-check">
          <input class="form-check-input damageFilter" type="checkbox" value="Radiante" id="d5">
          <label class="form-check-label" for="d5">Radiante</label>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-2">
      <h6>Ordenar</h6>
      <select id="sortSelect" class="form-select">
        <option value="alpha">A-Z</option>
        <option value="price-asc">Preço ↑</option>
        <option value="price-desc">Preço ↓</option>
      </select>
    </div>
  </div>
</div>

<!-- Galeria de Produtos -->
<div class="container mt-4">
  <div class="row product-gallery"></div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const gallery = document.querySelector('.product-gallery');
    const hotContainer = document.getElementById('hotItemContainer');
    const searchForm = document.getElementById('searchForm');
    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const damageFilters = document.querySelectorAll('.damageFilter');
    const sortSelect = document.getElementById('sortSelect');

    const products = [
  {
    title: 'Espada Radiante',
    price: 165,
    category: 'armas',
    damage: ['Cortante', 'Radiante'],
    img: 'https://www.dndbeyond.com/avatars/thumbnails/7/178/1000/1000/636284725246714619.jpeg',
    info: `Dano: 1d8/1d10<br>Tipo: Espada Longa<br>Efeitos: +1d6 Radiante, desativa regeneração de mortos-vivos por 1 turno, ilumina 9m`
  },
  {
    title: 'Cajado Relâmpago 2ª Geração',
    price: 155,
    category: 'cajados',
    damage: ['Contundente', 'Elétrico'],
    img: 'https://www.dndbeyond.com/avatars/thumbnails/7/428/1000/1000/636284771044710531.jpeg',
    info: `Dano: 1d6/1d8<br>Armazena magia elétrica 2º nível, recarrega em 24h`
  },
  {
    title: 'Lâmina Draconiana',
    price: 735,
    category: 'armas',
    damage: ['Cortante', 'Fogo'],
    img: 'https://movimentorpg.com.br/wp-content/uploads/2023/04/Flame-Tougue.jpeg',
    info: `Dano: 1d8/1d10<br>Queima por 2 turnos (1d6 dano), ilumina 10m`
  },
  {
    title: 'Espinhos de Agathys',
    price: 535,
    category: 'armaduras',
    damage: [],
    img: 'https://www.aidedd.org/dnd/images-om/demon-armor.jpg',
    info: `Armadura Média, 16 CA<br>Uma vez por turno, ao tomar dano, pode refletir 1d4 de dano físico que receber.`
  },
  {
    title: 'Escudo do Caçador de Magos',
    price: 210,
    category: 'itens',
    damage: [],
    img: 'https://i.redd.it/auzg0zzcw2c61.jpg',
    info: `Tipo: Escudo<br>Bônus de CA: +2<br>Efeito: Uma vez por descanso longo, pode refletir um feitiço de alvo único (DEX CD 13)`
  },
  {
    title: 'Anel do Sussurro Sombrio',
    price: 540,
    category: 'itens',
    damage: [],
    img: 'https://sdmntpreastus2.oaiusercontent.com/files/00000000-dd6c-61f6-97a2-9b7e48f37d52/raw?se=2025-05-26T08%3A39%3A58Z&sp=r&sv=2024-08-04&sr=b&scid=f88388da-ea04-529b-8d8a-c9da5cc1af0d&skoid=31bc9c1a-c7e0-460a-8671-bf4a3c419305&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-05-26T01%3A20%3A12Z&ske=2025-05-27T01%3A20%3A12Z&sks=b&skv=2024-08-04&sig=w%2B0UdK42pt2mWBgRQkdO6u0ufkNQ1kgMnEBbnATMYVI%3D',
    info: `Tipo: Item Mágico (Anel)<br>Efeito: Permite lançar *Silêncio* uma vez por descanso longo. Testes de Furtividade recebem +2`
  }
];

    function renderGallery() {
      gallery.innerHTML = '';

      let filtered = products.filter(p => {
        const term = searchInput.value.toLowerCase();
        const cat = categoryFilter.value;
        const damages = Array.from(damageFilters).filter(d=>d.checked).map(d=>d.value);
        return p.title.toLowerCase().includes(term)
          && (cat==='todos' || p.category===cat)
          && (damages.length===0 || damages.some(d=>p.damage.includes(d)));
      });

      const sortType = sortSelect.value;
      filtered.sort((a,b) => {
        if (sortType==='alpha') return a.title.localeCompare(b.title);
        if (sortType==='price-asc') return a.price - b.price;
        return b.price - a.price;
      });

      filtered.forEach(p => gallery.append(createCard(p)));
    }

    function createCard(product, isHot=false) {
      const col = document.createElement('div'); col.className = 'col-md-4 mb-3';
      const card = document.createElement('div'); card.className = 'card' + (isHot ? ' hot-item' : '');
      if (isHot) {
        const label = document.createElement('div'); label.className='hot-label'; label.textContent='Item Mais Quente'; card.append(label);
      }
      card.innerHTML += `
        <img src="${product.img}" class="card-img-top" alt="${product.title}">
        <div class="card-body">
          <h5 class="card-title">${product.title}</h5>
          <p class="card-text">${product.price} Gold</p>
          <button class="btn btn-primary btn-sm info-btn">Descrição</button>
          <div class="item-info hidden"><p>${product.info}</p></div>
        </div>`;
      col.append(card);

      card.querySelector('.info-btn').addEventListener('click', e => {
        const info = card.querySelector('.item-info');
        info.classList.toggle('hidden');
        e.target.textContent = info.classList.contains('hidden') ? 'Descrição' : 'Ocultar';
      });
      return col;
    }

    searchForm.addEventListener('submit', e=>{ e.preventDefault(); renderGallery(); });
    categoryFilter.addEventListener('change', renderGallery);
    damageFilters.forEach(chk=>chk.addEventListener('change', renderGallery));
    sortSelect.addEventListener('change', renderGallery);

    renderGallery();
  });
</script>
</body>
</html>